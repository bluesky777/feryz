md-button.md-raised.md-primary(ng-click="creando=!creando" ng-show="!creando") Nuevo usuario

.row(ng-show="creando")
	.col-sm-12.col-md-12
		
		.panel.panel-default.panel-hovered.panel-stacked.mb20
			.panel-heading   
				| Nuevo

			.panel-body

				form.form-horizontal(ng-submit="guardarNuevo()" name="frm" role="form")
					
					.row
						.col-md-8

							div(layout layout-sm="column")
								md-input-container(flex)
									label Nombre
									input(type="text" ng-model="newUsu.nombres" name="nombres" required)
								md-input-container(flex)
									label Apellidos
									input(type="text" ng-model="newUsu.apellidos")
							
							div(layout layout-sm="column")
								md-input-container(flex)
									label Username
									input(type="text" ng-model="newUsu.username" required)

								md-input-container(flex)
									label Contraseña
									input(type="text" ng-model="newUsu.password" required)
								
							div(layout layout-sm="column")
								md-input-container(flex)
									label Email
									input(type="text" ng-model="newUsu.email")
								
								md-input-container(flex)
									label Celular
									input(type="text" ng-model="newUsu.cell")
								
								md-input-container(flex)
									label Edad
									input(ng-model="newUsu.edad" type="text")
							.row
								.col-md-8
									.form-group
										label.control-label.col-md-3 Sexo
										.col-md-9
											md-radio-group(ng-model="newUsu.sexo")
												md-radio-button.rd-gender(ng-value="avatar.masculino.abrev" aria-label="{{avatar.masculino.def}}")
													img.img-gender(ng-src="{{avatar.masculino.img}}")
													md-tooltip Masculino
											
												md-radio-button.rd-gender(ng-value="avatar.femenino.abrev" aria-label="{{avatar.femenino.def}}")
													img.img-gender(ng-src="{{avatar.femenino.img}}")
													md-tooltip Femenino

						.col-md-4

							md-select(ng-model="newUsu.entidad_id" placeholder="Entidad")
								md-option(ng-repeat="entidad in entidades" value="{{entidad.id}}") {{entidad.nombre}}

							md-select(ng-model="newUsu.nivel_id" placeholder="Niveles")
								md-option(ng-value="nivel.nivel_king_id" ng-repeat="nivel in $parent.niveles_king | nivelesTraducidos:$parent.evento_actual.idioma_principal_id") {{nivel.nombre}}
								md-option(value="") Todos


							md-content
								md-list
									md-subheader.md-no-sticky
										| Inscribir en:

									md-list-item(ng-repeat="categoria in categorias_king1 | categoriasTraducidas:$parent.evento_actual.idioma_principal_id:newUsu.nivel_id")
										md-checkbox(ng-checked="checkeandoCategorias(categoria, newUsu.inscripciones)" ng-click="toggle(categoria, newUsu.inscripciones)")
										p {{categoria.nombre}}




					.clearfix.right
						md-button.md-primary(type="submit" ng-disabled="guardando") Guardar
						md-button.md-default(type="button" ng-click="cancelarNuevo()") Cancelar


.row(ng-show="editando")
	.col-sm-12.col-md-12
		
		.panel.panel-default.panel-hovered.panel-stacked.mb20
			.panel-heading   
				| Editar a {{currentUser.nombres}}

			.panel-body

				form.form-horizontal(ng-submit="guardarEdicion()" name="frmEdit" role="form")
					.row
						.col-md-8

							div(layout layout-sm="column")
								md-input-container(flex)
									label Nombre
									input(type="text" ng-model="currentUser.nombres" name="nombres" required)
								md-input-container(flex)
									label Apellidos
									input(type="text" ng-model="currentUser.apellidos")
							
							div(layout layout-sm="column")
								md-input-container(flex)
									label Username
									input(type="text" ng-model="currentUser.username" required)

								md-input-container(flex)
									label Contraseña
									input(type="text" ng-model="currentUser.password" required)
								
							div(layout layout-sm="column")
								md-input-container(flex)
									label Email
									input(type="text" ng-model="currentUser.email")
								
								md-input-container(flex)
									label Celular
									input(type="text" ng-model="currentUser.cell")
								
								md-input-container(flex)
									label Edad
									input(ng-model="currentUser.edad" type="text")
							.row
								.col-md-8
									.form-group
										label.control-label.col-md-3 Sexo
										.col-md-9
											md-radio-group(ng-model="currentUser.sexo")
												md-radio-button.rd-gender(ng-value="avatar.masculino.abrev" aria-label="{{avatar.masculino.def}}")
													img.img-gender(ng-src="{{avatar.masculino.img}}")
													md-tooltip Masculino
											
												md-radio-button.rd-gender(ng-value="avatar.femenino.abrev" aria-label="{{avatar.femenino.def}}")
													img.img-gender(ng-src="{{avatar.femenino.img}}")
													md-tooltip Femenino

						.col-md-4

							md-select(ng-model="currentUser.entidad_id" placeholder="Entidad")
								md-option(ng-repeat="entidad in entidades" value="{{entidad.id}}") {{entidad.nombre}}

							md-select(ng-model="currentUser.nivel_id" placeholder="Niveles")
								md-option(ng-value="nivel.nivel_king_id" ng-repeat="nivel in $parent.niveles_king | nivelesTraducidos:$parent.evento_actual.idioma_principal_id") {{nivel.nombre}}
								md-option(value="") Todos


							md-content
								md-list
									md-subheader.md-no-sticky
										| Inscribir en:

									md-list-item(ng-repeat="categoria in currentUsers | categsInscritas:categorias_king1:evento_actual.idioma_principal_id | filter: { nivel_id: currentUser.nivel_id } ")
										md-checkbox(ng-model="categoria.selected" ng-change="cambiaInscripcion(categoria, currentUsers)" aria-label="Categoria" ng-disabled="categoria.cambiando")
										p {{categoria.nombre}}
										.fa.fa-comments-o.md-secondary(aria-label="Comentario inútil" ng-click="")



					.clearfix.right
						md-button.md-primary(type="submit" ng-disabled="guardando") Guardar
						md-button.md-default(type="button" ng-click="cancelarEdicion()") Cancelar


.row
	.col-sm-12.col-md-12

		
		grid-usuarios(currentusers="currentUsers" nivelesking="niveles_king" usuarios="usuarios" categoriasking="categorias_king2" idioma="$parent.evento_actual.idioma_principal_id")







