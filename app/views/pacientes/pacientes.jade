.row
	.col-lg-12
		.panel.panel-default.panel-hovered.mb20(ng-show="!creando" )
			.panel-heading Nuevo Paciente (datos básicos)

			.panel-body
				div
					form(ng-submit="guardarPaciente()")

						.row
							.col-lg-6
								md-input-container.md-block(flex-gt-sm)
									label Nombres
									input(ng-model="pacienteNuevo.nombres")

							.col-lg-6
								md-input-container.md-block(flex-gt-sm)
									label Apellidos
									input(ng-model="pacienteNuevo.apellidos")

						.row
							.col-lg-12
								md-radio-group(ng-model="pacienteNuevo.sexo")
									.row
										.col-lg-2.col-md-3.col-sm-6.col-xs-12
											md-radio-button(value="M") Masculino
										.col-lg-2.col-md-3.col-sm-6.col-xs-12
											md-radio-button(value="F") Femenino

						.row
							.col-lg-4
								md-input-container.md-block(flex-gt-sm)
									label Empresa usuaria
									input(ng-model="pacienteNuevo.empresa_usuaria")

							.col-lg-4
								md-input-container.md-block(flex-gt-sm)
									label Empresa temporal
									input(ng-model="pacienteNuevo.empresa_temporal")
							.col-lg-4
								md-input-container.md-block(flex-gt-sm)
									label Actividad economica
									input(ng-model="pacienteNuevo.actividad_economica")
						.row
							.form-group.col-lg-4.col-sm-6.col-xs-12
								label Tipo documento
								ui-select(ng-model="pacienteNuevo.tipo_doc" style="width: 100%;")
									ui-select-match(placeholder="Tipo documento" allow-clear="true") {{$select.selected.tipo}}
									ui-select-choices(repeat="tipo in tipos_doc | filter: $select.search")
										div(ng-bind-html="tipo.tipo | highlight: $select.search")

							.col-lg-4
								md-input-container.md-block(flex-gt-sm)
									label Número documento
									input(ng-model="pacienteNuevo.doc_identidad")

						
						.row
							.form-group.col-lg-4.col-sm-6.col-xs-12
								label Pais de nacimiento
								ui-select(ng-model="pacienteNuevo.pais" on-select="paisSeleccionado($item, $model)" style="width: 100%;")
									ui-select-match(placeholder="Pais" allow-clear="true") {{$select.selected.pais}}
									ui-select-choices(repeat="pais in paises | filter: $select.search")
										div(ng-bind-html="pais.pais | highlight: $select.search")

							.form-group.col-lg-4.col-sm-6.col-xs-12
								label Departamento
								ui-select(ng-model="pacienteNuevo.depart_nac" on-select="departamentoSeleccionado($item, $model)" style="width: 100%;")
									ui-select-match(placeholder="Departamento" allow-clear="true") {{$select.selected.departamento}}
									ui-select-choices(repeat="depart in departamentos | filter: $select.search")
										div(ng-bind-html="depart.departamento | highlight: $select.search")

							.form-group.col-lg-4.col-sm-6.col-xs-12
								label Ciudad de nacimiento
								ui-select(ng-model="pacienteNuevo.ciudad_nac_id" style="width: 100%;")
									ui-select-match(placeholder="Ciudad" allow-clear="true") {{$select.selected.ciudad}}
									ui-select-choices(repeat="ciudad in ciudades | filter: $select.search")
										div(ng-bind-html="ciudad.ciudad | highlight: $select.search")

			

						.row
							.col-lg-4
								.input-group
									input.form-control.active(type="text" uib-datepicker-popup="dd-MMMM-yyyy" ng-model="pacienteNuevo.fecha_nac" is-open="data.isOpen" ng-click="data.isOpen = true" max-date="'2020-12-12'" datepicker-options="dateOptions" close-text="Aceptar" current-text="Hoy" clear-text="Borrar" placeholder="Fecha nacimiento")
									span.input-group-btn
										button(type="button" class="btn btn-default" ng-click="data.isOpen = true")
											i.fa.fa-calendar
										

							.col-lg-4
								md-input-container.md-block(flex-gt-sm)
									label Titulo
									input(ng-model="pacienteNuevo.titulo")
						.row
							.col-lg-4
								md-input-container.md-block(flex-gt-sm)
									label Estado Civil
									input(ng-model="pacienteNuevo.estado_civil")
						
							.col-lg-4
								md-input-container.md-block(flex-gt-sm)
									label Barrio
									input(ng-model="pacienteNuevo.barrio")

							.col-lg-4
								md-input-container.md-block(flex-gt-sm)
									label Direccion
									input(ng-model="pacienteNuevo.direccion")
						.row
							.col-lg-4
								md-input-container.md-block(flex-gt-sm)
									label Telefono
									input(ng-model="pacienteNuevo.telefono")

							.col-lg-4
								md-input-container.md-block(flex-gt-sm)
									label Celular
									input(ng-model="pacienteNuevo.celular")
						
							.col-lg-4
								md-input-container.md-block(flex-gt-sm)
									label Facebook
									input(ng-model="pacienteNuevo.facebook")
						.row
							.col-lg-2
								input(type="submit" value="Guardar" class="btn btn-default")

							.col-lg-2
								input(type="button" value="Cancelar" ng-click="creando=false" class="btn btn-danger")
						input(type="button" ng-click="" class="btn btn-success" value="Guardar")
 
						input(type="button" ng-click="creando=false" class="btn btn-danger" value="Cancelar")

		.panel.panel-default.panel-hovered.mb20(ng-show="!creando" )
			.panel-heading Visiometría

			.panel-body
				div
					form(ng-submit="guardarPaciente()")

						.row
							.col-lg-12
								md-input-container.md-block(flex-gt-sm)
									label Antecedentes personales
									input(ng-model="pacienteNuevo.ant_personales")
						.row
							.col-lg-12
								md-input-container.md-block(flex-gt-sm)
									label Recomendaciones
									input(ng-model="pacienteNuevo.recomendaciones")
						.row
							.col-lg-2.col-md-3.col-xs-12
								md-checkbox(ng-model="pacienteNuevo.estereopsis" ng-true-value="'N'" ng-false-value="'A'" aria-label="Estereopsis")
									| Estereopsis normal
							.col-lg-10.col-md-9.col-xs-12(ng-show="pacienteNuevo.estereopsis=='A'")
								md-input-container.md-block(flex-gt-sm style="margin: 0!important; padding-bottom: 0!important")
									label Observaciones
									textarea(ng-model="pacienteNuevo.estereopsis_observ")
						.row
							.col-lg-2.col-md-3.col-xs-12
								md-checkbox(ng-model="pacienteNuevo.test_color" ng-true-value="'N'" ng-false-value="'A'" aria-label="Test Color")
									| Test color normal
							.col-lg-10.col-md-9.col-xs-12(ng-show="pacienteNuevo.test_color=='A'")
								md-input-container.md-block(flex-gt-sm style="margin: 0!important; padding-bottom: 0!important")
									label Observaciones
									textarea(ng-model="pacienteNuevo.test_color_observ")
						.row
							.col-lg-12
								h4.md-title Sintomas de visión
							.col-lg-12
								md-chips(ng-model="pacienteNuevo.sintomas_vision" placeholder="Copie síntomas" 
									delete-button-label="Quitar síntoma" delete-hint="Presione la X para remover síntoma"
									secondary-placeholder="+Síntoma" md-transform-chip="transformChip($chip)")
									
									md-chip-template
										span(ng-hide="$chip.type") {{$chip.nombre}}
										span(ng-show="$chip.type")
											b
												i (+) {{$chip.nombre}}

									md-autocomplete(md-selected-item="ctrl.selectedItem"
										md-search-text="ctrl.searchText"
										md-items="item in ctrl.querySearch(ctrl.searchText)"
										md-item-text="item.nombre"
										placeholder="Copie el síntoma")
										span(md-highlight-text="ctrl.searchText") {{item.nombre}}


.row
	.col-lg-12
		.panel.panel-default.panel-hovered.mb20(ng-show="editando" )
			.panel-heading Editar usuario

			.panel-body
				div
					form(ng-submit="actualizarPaciente()")
						.row
							.col-lg-6
								md-input-container.md-block(flex-gt-sm)
									label Nombres
									input(ng-model="UsuarioActualizar.nombres")

							.col-lg-6
								md-input-container.md-block(flex-gt-sm)
									label Apellidos
									input(ng-model="UsuarioActualizar.apellidos")

						.row
							.col-lg-12
								md-radio-group(ng-model="UsuarioActualizar.sexo")
									.row
										.col-lg-2.col-md-3.col-sm-6.col-xs-12
											md-radio-button(value="M") Masculino
										.col-lg-2.col-md-3.col-sm-6.col-xs-12
											md-radio-button(value="F") Femenino

						.row
							.col-lg-4
								md-input-container.md-block(flex-gt-sm)
									label Nombre usuario
									input(ng-model="UsuarioActualizar.username")

							.col-lg-4
								md-input-container.md-block(flex-gt-sm)
									label Email
									input(ng-model="UsuarioActualizar.email")
						
							.col-lg-4
								md-input-container.md-block(flex-gt-sm)
									label Password
									input(ng-model="UsuarioActualizar.password")
						.row
							.col-lg-4
								md-input-container.md-block(flex-gt-sm)
									label Tipo_doc
									input(ng-model="UsuarioActualizar.tipo_doc")
						
							.col-lg-4
								md-input-container.md-block(flex-gt-sm)
									label Num_doc
									input(ng-model="UsuarioActualizar.num_doc")

							.col-lg-4
								md-input-container.md-block(flex-gt-sm)
									label Ciudad_doc
									input(ng-model="UsuarioActualizar.ciudad_doc")
						.row
							.col-lg-4
								md-input-container.md-block(flex-gt-sm)
									label Fecha_nac
									input(ng-model="UsuarioActualizar.fecha_nac")

							.col-lg-4
								md-input-container.md-block(flex-gt-sm)
									label Ciudad_nac
									input(ng-model="UsuarioActualizar.ciudad_nac")
						
							.col-lg-4
								md-input-container.md-block(flex-gt-sm)
									label Titulo
									input(ng-model="UsuarioActualizar.titulo")
						.row
							.col-lg-4
								md-input-container.md-block(flex-gt-sm)
									label Estado Civil
									input(ng-model="UsuarioActualizar.estado_civil")
						
							.col-lg-4
								md-input-container.md-block(flex-gt-sm)
									label Barrio
									input(ng-model="UsuarioActualizar.barrio")

							.col-lg-4
								md-input-container.md-block(flex-gt-sm)
									label Direccion
									input(ng-model="UsuarioActualizar.direccion")
						.row
							.col-lg-4
								md-input-container.md-block(flex-gt-sm)
									label Teléfono
									input(ng-model="UsuarioActualizar.telefono")

							.col-lg-4
								md-input-container.md-block(flex-gt-sm)
									label Celular
									input(ng-model="UsuarioActualizar.celular")
						
							.col-lg-4
								md-input-container.md-block(flex-gt-sm)
									label Facebook
									input(ng-model="UsuarioActualizar.facebook")
						input(type="submit" value="Actualizar" class="btn btn-primary")
						input(type="button" value="Cancelar" ng-click="editando=false" class="btn btn-danger")


.row
	.col-lg-12
		.panel.panel-default.panel-hovered.mb20
			.panel-heading Pacientes

			.panel-body(style="overflow: auto")
				
				md-button(ng-click="crearPaciente()" class="md-raised md-primary") Crear Nuevo Paciente
