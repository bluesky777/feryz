
<div ng-show="creando" class="row">
  <div class="col-lg-12">
    <div class="panel panel-default panel-hovered mb20">
      <div class="panel-heading">Nuevo Paciente (datos básicos)</div>
      <div class="panel-body">
        <div>
          <form ng-submit="guardarPaciente()">
            <div class="row">
              <div class="col-lg-4 col-sm-6">
                <md-input-container flex-gt-sm style="margin: 0!important; padding-bottom: 0!important" class="md-block">
                  <label>Empresa usuaria</label>
                  <input ng-model="pacienteNuevo.empresa_usuaria">
                </md-input-container>
              </div>
              <div class="col-lg-4 col-sm-6">
                <md-input-container flex-gt-sm style="margin: 0!important; padding-bottom: 0!important" class="md-block">
                  <label>Empresa temporal</label>
                  <input ng-model="pacienteNuevo.empresa_temporal">
                </md-input-container>
              </div>
              <div class="col-lg-4 col-sm-12">
                <md-input-container flex-gt-sm style="margin: 0!important; padding-bottom: 0!important" class="md-block">
                  <label>Actividad economica</label>
                  <input ng-model="pacienteNuevo.actividad_economica">
                </md-input-container>
              </div>
            </div>
            <div class="row">
              <div class="col-lg-4 col-sm-6">
                <md-input-container flex-gt-sm style="margin: 0!important; padding-bottom: 0!important" class="md-block">
                  <label>Nombres</label>
                  <input ng-model="pacienteNuevo.nombres">
                </md-input-container>
              </div>
              <div class="col-lg-4 col-sm-12 col-xs-12">
                <md-input-container flex-gt-sm style="margin: 0!important; padding-bottom: 0!important" class="md-block">
                  <label>Apellidos</label>
                  <input ng-model="pacienteNuevo.apellidos">
                </md-input-container>
              </div>
              <div class="form-group col-lg-4 col-sm-12 col-xs-12">
                <ui-select ng-model="pacienteNuevo.tipo_doc" style="margin: 0!important;width: 100%; padding-bottom: 0!important">
                  <ui-select-match placeholder="Tipo documento" allow-clear="true">{{$select.selected.tipo}}</ui-select-match>
                  <ui-select-choices repeat="tipo in tipos_doc | filter: $select.search">
                    <div ng-bind-html="tipo.tipo | highlight: $select.search"></div>
                  </ui-select-choices>
                </ui-select>
              </div>
            </div>
            <div class="row">
              <div class="col-lg-4 col-sm-12 col-xs-12">
                <md-input-container flex-gt-sm style="margin: 0!important; padding-bottom: 0!important" class="md-block">
                  <label>Numero de documento</label>
                  <input ng-model="pacienteNuevo.doc_identidad">
                </md-input-container>
              </div>
              <div class="col-lg-4 col-sm-6">
                <md-radio-group ng-model="pacienteNuevo.sexo">
                  <div class="row">
                    <div class="col-lg-x col-md-6 col-sm-6 col-xs-12">
                      <md-radio-button value="M">Masculino</md-radio-button>
                    </div>
                    <div class="col-lg-4 col-md-6 col-sm-6 col-xs-12">
                      <md-radio-button value="F">Femenino</md-radio-button>
                    </div>
                  </div>
                </md-radio-group>
              </div>
              <div class="col-lg-4 col-sm-12">
                <md-input-container flex-gt-sm style="margin: 0!important; padding-bottom: 0!important" class="md-block">
                  <label>Direccion</label>
                  <input ng-model="pacienteNuevo.direccion">
                </md-input-container>
              </div>
            </div>
            <div class="row">
              <div class="col-lg-4 col-sm-6">
                <md-input-container flex-gt-sm style="margin: 0!important; padding-bottom: 0!important" class="md-block">
                  <label>Telefono</label>
                  <input ng-model="pacienteNuevo.telefono">
                </md-input-container>
              </div>
              <div class="col-lg-4 col-sm-6">
                <md-input-container flex-gt-sm style="margin: 0!important; padding-bottom: 0!important" class="md-block">
                  <label>Telefono contacto</label>
                  <input ng-model="pacienteNuevo.telefono_contacto">
                </md-input-container>
              </div>
              <div class="col-lg-4 col-sm-12">
                <label>Fecha nacimiento</label>
                <md-datepicker style="width: 260px;height" ng-model="pacienteNuevo.fecha_nac" md-placeholder="Enter date" ng-click="data.isOpen = true"></md-datepicker>
              </div>
            </div>
            <div class="row">
              <div class="form-group col-lg-4 col-sm-6 col-xs-12">
                <label>Pais de nacimiento</label>
                <ui-select ng-model="pacienteNuevo.pais" on-select="paisSeleccionado($item, $model)" style="width: 100%;">
                  <ui-select-match placeholder="Pais" allow-clear="true">{{$select.selected.pais}}</ui-select-match>
                  <ui-select-choices repeat="pais in paises | filter: $select.search">
                    <div ng-bind-html="pais.pais | highlight: $select.search"></div>
                  </ui-select-choices>
                </ui-select>
              </div>
              <div class="form-group col-lg-4 col-sm-6 col-xs-12">
                <label>Departamento</label>
                <ui-select ng-model="pacienteNuevo.depart_nac" on-select="departamentoSeleccionado($item, $model)" style="width: 100%;">
                  <ui-select-match placeholder="Departamento" allow-clear="true">{{$select.selected.departamento}}</ui-select-match>
                  <ui-select-choices repeat="depart in departamentos | filter: $select.search">
                    <div ng-bind-html="depart.departamento | highlight: $select.search"></div>
                  </ui-select-choices>
                </ui-select>
              </div>
              <div class="form-group col-lg-4 col-sm-12 col-xs-12">
                <label>Ciudad de nacimiento</label>
                <ui-select ng-model="pacienteNuevo.ciudad_nac_id" style="width: 100%;">
                  <ui-select-match placeholder="Ciudad" allow-clear="true">{{$select.selected.ciudad}}</ui-select-match>
                  <ui-select-choices repeat="ciudad in ciudades | filter: $select.search">
                    <div ng-bind-html="ciudad.ciudad | highlight: $select.search"></div>
                  </ui-select-choices>
                </ui-select>
              </div>
            </div>
            <div class="row">
              <div class="col-lg-4 col-sm-6">
                <md-input-container flex-gt-sm style="margin: 0!important; padding-bottom: 0!important" class="md-block">
                  <label>Estado Civil</label>
                  <input ng-model="pacienteNuevo.estado_civil">
                </md-input-container>
              </div>
              <div class="col-lg-4 col-sm-6">
                <md-input-container flex-gt-sm style="margin: 0!important; padding-bottom: 0!important" class="md-block">
                  <label>Nivel escolaridad</label>
                  <input ng-model="pacienteNuevo.nivel_escolaridad">
                </md-input-container>
              </div>
              <div class="col-lg-4 col-sm-12">
                <md-input-container flex-gt-sm style="margin: 0!important; padding-bottom: 0!important" class="md-block">
                  <label>Edad</label>
                  <input ng-model="pacienteNuevo.edad">
                </md-input-container>
              </div>
            </div>
            <div class="row">
              <div class="col-lg-4 col-sm-6">
                <md-input-container flex-gt-sm style="margin: 0!important; padding-bottom: 0!important" class="md-block">
                  <label>Profesion</label>
                  <input ng-model="pacienteNuevo.profesion">
                </md-input-container>
              </div>
              <div class="col-lg-4 col-sm-6">
                <md-input-container flex-gt-sm style="margin: 0!important; padding-bottom: 0!important" class="md-block">
                  <label>Grupo sanguíneo</label>
                  <input ng-model="pacienteNuevo.grupo_sanguineo">
                </md-input-container>
              </div>
              <div class="col-lg-4 col-sm-12">
                <md-input-container flex-gt-sm style="margin: 0!important; padding-bottom: 0!important" class="md-block">
                  <label>Rh</label>
                  <input ng-model="pacienteNuevo.rh">
                </md-input-container>
              </div>
            </div>
            <div class="row">
              <div class="col-lg-4 col-sm-6">
                <md-input-container flex-gt-sm style="margin: 0!important; padding-bottom: 0!important" class="md-block">
                  <label>EPS</label>
                  <input ng-model="pacienteNuevo.eps">
                </md-input-container>
              </div>
              <div class="col-lg-4 col-sm-6">
                <md-input-container flex-gt-sm style="margin: 0!important; padding-bottom: 0!important" class="md-block">
                  <label>ARP</label>
                  <input ng-model="pacienteNuevo.arp">
                </md-input-container>
              </div>
              <div class="col-lg-4 col-sm-12">
                <label>Fecha Ingreso</label>
                <md-datepicker style="width: 260px;height" ng-model="pacienteNuevo.fecha_ingreso" md-placeholder="Enter date" ng-click="data.isOpen = true"></md-datepicker>
              </div>
            </div>
            <div class="row">									
              <div class="col-lg-6 col-sm-6">
                <md-input-container flex-gt-sm style="margin: 0!important; padding-bottom: 0!important" class="md-block">
                  <label>Cargo</label>
                  <input ng-model="pacienteNuevo.cargo">
                </md-input-container>
              </div>
              <div class="col-lg-6 col-sm-6">
                <md-input-container flex-gt-sm style="margin: 0!important; padding-bottom: 0!important" class="md-block">
                  <label>Descripcion de Cargo</label>
                  <input ng-model="pacienteNuevo.descripcion_cargo">
                </md-input-container>
              </div>
            </div>
            <div class="panel-heading">Motivo de consulta y enfermedad actual</div>
            <div style="margin: 10px"></div>
            <div class="row">
              <div class="col-lg-12 col-sm-12">
                <md-input-container flex-gt-sm style="margin: 0!important; padding-bottom: 0!important" class="md-block">
                  <label>Motivo consulta</label>
                  <input ng-model="pacienteNuevo.motivo_consulta">
                </md-input-container>
              </div>
            </div>
            <div class="row">
              <div class="col-lg-2 col-sm-6">
                <input type="submit" value="Guardar" class="btn btn-default">
              </div>
              <div class="col-lg-2 col-sm-6">
                <input type="button" value="Cancelar" ng-click="creando=false" class="btn btn-danger">
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
    <div class="panel panel-default panel-hovered mb20">
      <div class="panel-heading">Antecedentes</div>
      <div class="panel-body">
        <div>
          <form ng-submit="guardarAntecedentesPaciente()">
            <div class="panel-heading">Antecedentes Personales
              <div style="margin: 10px"></div>
            </div>
            <div class="row">
              <div class="col-lg-6 col-sm-6">
                <md-input-container flex-gt-sm style="margin: 0!important; padding-bottom: 0!important" class="md-block">
                  <label>Patologicos</label>
                  <input ng-model="empleoActual.antec_patologicos">
                </md-input-container>
              </div>
              <div class="col-lg-6 col-sm-6">
                <md-input-container flex-gt-sm style="margin: 0!important; padding-bottom: 0!important" class="md-block">
                  <label>Hospitalarios</label>
                  <input ng-model="empleoActual.antec_hospitalarios">
                </md-input-container>
              </div>
            </div>
            <div class="row">
              <div class="col-lg-6 col-sm-6">
                <md-input-container flex-gt-sm style="margin: 0!important; padding-bottom: 0!important" class="md-block">
                  <label>Quirurgicos</label>
                  <input ng-model="empleoActual.antec_quirurgicos">
                </md-input-container>
              </div>
              <div class="col-lg-6 col-sm-6">
                <md-input-container flex-gt-sm style="margin: 0!important; padding-bottom: 0!important" class="md-block">
                  <label>Familiares</label>
                  <input ng-model="empleoActual.antec_familiares">
                </md-input-container>
              </div>
            </div>
          </form>
          <antecedentes-laborales-dir></antecedentes-laborales-dir>
          <div class="panel-heading">Antecedentes de trabajo
            <div style="margin: 10px"></div>
            <div class="row">
              <div class="col-lg-4 col-sm-6">
                <label>Fecha Ingreso</label>
                <md-datepicker style="width: 260px;height" ng-model="pacienteNuevo.fecha" md-placeholder="Enter date"></md-datepicker>
              </div>
              <div class="col-lg-8 col-sm-6">
                <md-input-container flex-gt-sm style="margin: 0!important; padding-bottom: 0!important" class="md-block">
                  <label>Diagnostico</label>
                  <input ng-mKBel="pacienteNuevo.diagnostico">
                </md-input-container>
              </div>
            </div>
            <div class="row">
              <div class="col-lg-4 col-sm-6">
                <md-input-container flex-gt-sm style="margin: 0!important; padding-bottom: 0!important" class="md-block">
                  <label>ARP</label>
                  <input ng-model="pacienteNuevo.arp">
                </md-input-container>
              </div>
              <div class="col-lg-4 col-sm-6">
                <md-input-container flex-gt-sm style="margin: 0!important; padding-bottom: 0!important" class="md-block">
                  <label>Organo afectado</label>
                  <input ng-mKBel="pacienteNuevo.organo_afectado">
                </md-input-container>
              </div>
              <div class="col-lg-4 col-sm-12">
                <md-input-container flex-gt-sm style="margin: 0!important; padding-bottom: 0!important" class="md-block">
                  <label>Agente</label>
                  <input ng-model="pacienteNuevo.agente">
                </md-input-container>
              </div>
            </div>
            <div class="row">
              <div class="col-lg-4 col-sm-6">
                <md-input-container flex-gt-sm style="margin: 0!important; padding-bottom: 0!important" class="md-block">
                  <label>Tipo de accidente</label>
                  <input ng-model="pacienteNuevo.tipo_accidente">
                </md-input-container>
              </div>
              <div class="col-lg-4 col-sm-6">
                <md-input-container flex-gt-sm style="margin: 0!important; padding-bottom: 0!important" class="md-block">
                  <label>Severidad</label>
                  <input ng-model="pacienteNuevo.severidad">
                </md-input-container>
              </div>
              <div class="col-lg-4 col-sm-12">
                <md-input-container flex-gt-sm style="margin: 0!important; padding-bottom: 0!important" class="md-block">
                  <label>Secuelas</label>
                  <input ng-model="pacienteNuevo.secuelas">
                </md-input-container>
              </div>
            </div>
          </div>
          <div class="panel-heading">Enfermedades profesionales
            <div style="margin: 10px"></div>
            <div class="row">
              <div class="col-lg-4 col-sm-6">
                <label>Fecha Ingreso</label>
                <md-datepicker style="width: 260px;height" ng-model="pacienteNuevo.fecha" md-placeholder="Enter date"></md-datepicker>
              </div>
              <div class="col-lg-8 col-sm-6">
                <md-input-container flex-gt-sm style="margin: 0!important; padding-bottom: 0!important" class="md-block">
                  <label>Diagnostico</label>
                  <input ng-mKBel="pacienteNuevo.diagnostico">
                </md-input-container>
              </div>
            </div>
            <div class="row">
              <div class="col-lg-4 col-sm-6">
                <md-input-container flex-gt-sm style="margin: 0!important; padding-bottom: 0!important" class="md-block">
                  <label>ARP</label>
                  <input ng-model="pacienteNuevo.arp">
                </md-input-container>
              </div>
              <div class="col-lg-4 col-sm-6">
                <md-input-container flex-gt-sm style="margin: 0!important; padding-bottom: 0!important" class="md-block">
                  <label>Organo afectado</label>
                  <input ng-mKBel="pacienteNuevo.organo_afectado">
                </md-input-container>
              </div>
              <div class="col-lg-4 col-sm-12">
                <md-input-container flex-gt-sm style="margin: 0!important; padding-bottom: 0!important" class="md-block">
                  <label>Agente</label>
                  <input ng-model="pacienteNuevo.agente">
                </md-input-container>
              </div>
            </div>
            <div class="row">
              <div class="col-lg-4 col-sm-6">
                <md-input-container flex-gt-sm style="margin: 0!important; padding-bottom: 0!important" class="md-block">
                  <label>Tipo de accidente</label>
                  <input ng-model="pacienteNuevo.tipo_accidente">
                </md-input-container>
              </div>
              <div class="col-lg-4 col-sm-6">
                <md-input-container flex-gt-sm style="margin: 0!important; padding-bottom: 0!important" class="md-block">
                  <label>Severidad</label>
                  <input ng-model="pacienteNuevo.severidad">
                </md-input-container>
              </div>
              <div class="col-lg-4 col-sm-12">
                <md-input-container flex-gt-sm style="margin: 0!important; padding-bottom: 0!important" class="md-block">
                  <label>Secuelas</label>
                  <input ng-model="pacienteNuevo.secuelas">
                </md-input-container>
              </div>
            </div>
            <div class="row">
              <div class="col-lg-2 col-sm-6">
                <input type="submit" value="Guardar" class="btn btn-success">
              </div>
              <div class="col-lg-2 col-sm-6">
                <input type="button" value="Cancelar" ng-click="creando=false" class="btn btn-danger">
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="panel panel-default panel-hovered mb20">
      <div class="panel-heading">Visiometría</div>
      <div class="panel-body">
        <div>
          <form ng-submit="guardarPaciente()">
            <div class="row">
              <div class="col-lg-12">
                <md-input-container flex-gt-sm style="margin: 0!important; padding-bottom: 0!important" class="md-block">
                  <label>Antecedentes personales</label>
                  <input ng-model="pacienteNuevo.ant_personales">
                </md-input-container>
              </div>
            </div>
            <div class="row">
              <div class="col-lg-12">
                <md-input-container flex-gt-sm style="margin: 0!important; padding-bottom: 0!important" class="md-block">
                  <label>Recomendaciones</label>
                  <input ng-model="pacienteNuevo.recomendaciones">
                </md-input-container>
              </div>
            </div>
            <div class="row">
              <div class="col-lg-2 col-md-3 col-xs-12">
                <md-checkbox ng-model="pacienteNuevo.estereopsis" ng-true-value="'N'" ng-false-value="'A'" aria-label="Estereopsis">Estereopsis normal</md-checkbox>
              </div>
              <div ng-show="pacienteNuevo.estereopsis=='A'" class="col-lg-10 col-md-9 col-xs-12">
                <md-input-container flex-gt-sm style="margin: 0!important; padding-bottom: 0!important" class="md-block">
                  <label>Observaciones</label>
                  <textarea ng-model="pacienteNuevo.estereopsis_observ"></textarea>
                </md-input-container>
              </div>
            </div>
            <div class="row">
              <div class="col-lg-2 col-md-3 col-xs-12">
                <md-checkbox ng-model="pacienteNuevo.test_color" ng-true-value="'N'" ng-false-value="'A'" aria-label="Test Color">Test color normal</md-checkbox>
              </div>
              <div ng-show="pacienteNuevo.test_color=='A'" class="col-lg-10 col-md-9 col-xs-12">
                <md-input-container flex-gt-sm style="margin: 0!important; padding-bottom: 0!important" class="md-block">
                  <label>Observaciones</label>
                  <textarea ng-model="pacienteNuevo.test_color_observ"></textarea>
                </md-input-container>
              </div>
            </div>
            <div class="row">
              <div class="col-lg-12">
                <h4 class="md-title">Sintomas de visión</h4>
              </div>
              <div class="col-lg-12">
                <md-chips ng-model="pacienteNuevo.sintomas_vision" placeholder="Copie síntomas" delete-button-label="Quitar síntoma" delete-hint="Presione la X para remover síntoma" secondary-placeholder="+Síntoma" md-transform-chip="transformChip($chip)">
                  <md-chip-template><span ng-hide="$chip.type">{{$chip.nombre}}</span><span ng-show="$chip.type"><b><i>(+) {{$chip.nombre}}</i></b></span></md-chip-template>
                  <md-autocomplete md-selected-item="ctrl.selectedItem" md-search-text="ctrl.searchText" md-items="item in ctrl.querySearch(ctrl.searchText)" md-item-text="item.nombre" placeholder="Copie el síntoma"><span md-highlight-text="ctrl.searchText">{{item.nombre}}</span></md-autocomplete>
                </md-chips>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>